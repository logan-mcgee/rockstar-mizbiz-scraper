! function() {
  try {
    var e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {},
      s = (new Error).stack;
    s && (e._sentryDebugIds = e._sentryDebugIds || {}, e._sentryDebugIds[s] = "b85de0b3-1905-48ef-b4fd-3cdea2825735", e._sentryDebugIdIdentifier = "sentry-dbid-b85de0b3-1905-48ef-b4fd-3cdea2825735")
  } catch (e) {}
}();
var _global2 = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
_global2._sentryModuleMetadata = _global2._sentryModuleMetadata || {}, _global2._sentryModuleMetadata[(new Error).stack] = {
  release: "sentry-release-id",
  packageName: "@rockstargames/sites-rockstargames",
  dsn: "https://45716709f6ae4d08adc015d264f231ae@o432808.ingest.sentry.io/4504565542748160"
};
var _global = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
_global.SENTRY_RELEASE = {
  id: "sentry-release-id"
}, (self.webpackChunk_rockstargames_sites_rockstargames = self.webpackChunk_rockstargames_sites_rockstargames || []).push([
  [9739], {
    36671: (e, s, t) => {
      "use strict";
      t.d(s, {
        A: () => l
      });
      var a = t(14099),
        r = t.n(a);
      const n = JSON.parse('{"assets":[],"layers":[{"ddd":0,"ind":0,"ty":4,"nm":"Shape Layer 1","ks":{"o":{"k":100},"r":{"k":0},"p":{"k":[300,300,0]},"a":{"k":[0,0,0]},"s":{"k":[244,244,100]}},"ao":0,"shapes":[{"d":1,"ty":"el","s":{"k":[100,100]},"p":{"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"tm","s":{"k":[{"i":{"x":[0.439],"y":[1.016]},"o":{"x":[0.561],"y":[0.015]},"n":["0p439_1p016_0p561_0p015"],"t":5,"s":[100],"e":[0]},{"t":33.0000013441176}],"ix":1},"e":{"k":[{"i":{"x":[0.439],"y":[1.017]},"o":{"x":[0.561],"y":[0.016]},"n":["0p439_1p017_0p561_0p016"],"t":0,"s":[100],"e":[0]},{"t":30.0000012219251}],"ix":2},"o":{"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim"},{"ty":"st","fillEnabled":true,"c":{"k":[1,1,1,1]},"o":{"k":100},"w":{"k":16},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"}],"ip":0,"op":900.000036657751,"st":0,"bm":0,"sr":1}],"v":"4.5.3","ddd":0,"ip":1.00000004073083,"op":33.0000013441175,"fr":29.9700012207031,"w":600,"h":600}'),
        i = JSON.parse('{"v":"5.7.3","fr":60,"ip":0,"op":64,"w":300,"h":300,"nm":"Dot_Loading","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"center","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.4,"y":1},"o":{"x":0.6,"y":0},"t":10,"s":[144,144,0],"to":[0,-3.333,0],"ti":[0,0,0]},{"i":{"x":0.4,"y":1},"o":{"x":0.6,"y":0},"t":22,"s":[144,124,0],"to":[0,0,0],"ti":[0,-3.333,0]},{"t":34,"s":[144,144,0]}],"ix":2},"a":{"a":0,"k":[12.5,6,0],"ix":1},"s":{"a":0,"k":[764.558,764.558,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.828],[0.828,0],[0,0.828],[-0.828,0]],"o":[[0,0.828],[-0.828,0],[0,-0.828],[0.828,0]],"v":[[1.5,0],[0,1.5],[-1.5,0],[0,-1.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.667,5.833],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Groupe 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":76,"st":-62,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"right","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.4,"y":1},"o":{"x":0.6,"y":0},"t":5,"s":[144,144,0],"to":[0,-3.333,0],"ti":[0,0,0]},{"i":{"x":0.4,"y":1},"o":{"x":0.6,"y":0},"t":17,"s":[144,124,0],"to":[0,0,0],"ti":[0,-3.333,0]},{"t":29,"s":[144,144,0]}],"ix":2},"a":{"a":0,"k":[12.5,6,0],"ix":1},"s":{"a":0,"k":[764.558,764.558,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.828],[0.828,0],[0,0.828],[-0.828,0]],"o":[[0,0.828],[-0.828,0],[0,-0.828],[0.828,0]],"v":[[1.5,0],[0,1.5],[-1.5,0],[0,-1.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.333,5.833],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Groupe 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":76,"st":-62,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"left","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.4,"y":1},"o":{"x":0.6,"y":0},"t":0,"s":[144,144,0],"to":[0,-3.333,0],"ti":[0,0,0]},{"i":{"x":0.4,"y":1},"o":{"x":0.6,"y":0},"t":12,"s":[144,124,0],"to":[0,0,0],"ti":[0,-3.333,0]},{"t":24,"s":[144,144,0]}],"ix":2},"a":{"a":0,"k":[12.5,6,0],"ix":1},"s":{"a":0,"k":[764.558,764.558,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.828],[0.828,0],[0,0.828],[-0.828,0]],"o":[[0,0.828],[-0.828,0],[0,-0.828],[0.828,0]],"v":[[1.5,0],[0,1.5],[-1.5,0],[0,-1.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fond 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[7,5.833],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Groupe 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":76,"st":-62,"bm":0}],"markers":[]}');
      var o = t(98096);
      const c = {
          SPINNING: "spinning",
          THREE_DOTS: "threeDots"
        },
        l = e => {
          let s, {
            type: t = c.SPINNING
          } = e;
          switch (t) {
            case c.THREE_DOTS:
              s = i;
              break;
            case c.SPINNING:
            default:
              s = n
          }
          return (0, o.jsx)(r(), {
            loop: !0,
            autoplay: !0,
            animationData: s,
            style: {
              width: "50px",
              height: "50px"
            },
            "data-testid": "loader-spinner"
          })
        }
    },
    59739: (e, s, t) => {
      "use strict";
      t.d(s, {
        A: () => A
      });
      var a = t(81788),
        r = t(2918),
        n = t(95966),
        i = t(15138);
      class o extends Error {}
      o.prototype.name = "InvalidTokenError";
      var c = t(9623),
        l = t(20066),
        d = t(62229),
        u = t(87851),
        g = t(37896),
        b = t(89950);
      var f = t(98096);
      const m = e => {
        let {
          disableLink: s,
          className: t
        } = e;
        const a = s ? "span" : b.A;
        return (0, f.jsx)(a, {
          className: [s ? "rockstargames-sites-rockstargamesb28a6ee32abeb20049b97677a86a4314" : "rockstargames-sites-rockstargamesa3d920a1139575706b914bc3a0100970", t || ""].join(" "),
          alt: "Rockstar Games Home",
          ...!s && {
            to: "/"
          }
        })
      };
      var _ = t(36671);
      const k = {
          pillBtn: "rockstargames-sites-rockstargamesec4cf2a0d1bf4b163356a239c9fcd2c5",
          selected: "rockstargames-sites-rockstargamesf2bcb112e2fedaca40598307a49544c4",
          dialogButton: "rockstargames-sites-rockstargamesad86d4b21240f743281b4922702072b0",
          primary: "rockstargames-sites-rockstargamese4ce9e8b1c839a16acd1198dd6155b0a",
          secondary: "rockstargames-sites-rockstargamesc2b869b762352eaa5d0adbeb70fac94c"
        },
        p = e => {
          let {
            button: s,
            closeDialog: t,
            style: a = "primary"
          } = e;
          const {
            buttonIcon: r,
            buttonText: n,
            extraClasses: i,
            isDisabled: o,
            isLink: c,
            link: l,
            onClick: d,
            testId: u
          } = s;
          return c ? n && (0, f.jsx)("a", {
            className: [k.dialogButton, k.link, k[a], i].join(" "),
            href: l,
            ...u && {
              "data-testid": u
            },
            children: n
          }) : (0, f.jsx)("button", {
            className: [k.dialogButton, k[a], i].join(" "),
            disabled: o,
            onClick: e => (e => {
              d && d(), t && t(), e.stopPropagation()
            })(e),
            type: "button",
            value: "cancel",
            "aria-label": n,
            ...u && {
              "data-testid": u
            },
            children: (0, f.jsxs)("span", {
              children: [n, r && (0, f.jsx)("div", {
                className: k.ctaIcon
              })]
            })
          })
        },
        h = {
          pillBtn: "rockstargames-sites-rockstargamesb403f298c2eff00899432c93daa15aec",
          selected: "rockstargames-sites-rockstargamesa6cab397bf3a16564fcc531ef4c16130",
          dialog: "rockstargames-sites-rockstargamesd2c9ef0a70d425745a27c169c594199a",
          "slide-up": "rockstargames-sites-rockstargamesb2b3117a07a11b3ec5897e4718e24373",
          "fade-in": "rockstargames-sites-rockstargamese30057881578a38b5dc6f50854c6b56d",
          heading: "rockstargames-sites-rockstargamesdab9a8f190197c99405cebe1e9a992d6",
          message: "rockstargames-sites-rockstargamesf7cd64be4f94a272222f88f34789734a",
          icon: "rockstargames-sites-rockstargamesbc1e57fee27452c58670e4f60e492246",
          check: "rockstargames-sites-rockstargamesb63b9588fb98b439d19028797670c6c5",
          error: "rockstargames-sites-rockstargamesf654f7a2bf475a939f8c05fb569bfd5e",
          mail: "rockstargames-sites-rockstargamesb120386c4c2485c587f87173721d63be",
          content: "rockstargames-sites-rockstargamesefe65f5c39de5d044fdc6b13c1771125",
          actions: "rockstargames-sites-rockstargamesd35d1125eabb9ae0e941bd585003c4fc"
        },
        x = e => {
          let {
            icon: s,
            title: t,
            secondaryText: a,
            buttons: r,
            showDialog: i,
            onClose: o = (() => {}),
            closeOnOutsideClick: c = !0,
            extraClasses: l
          } = e;
          const u = (0, d.useRef)(null),
            {
              setBodyIsLocked: g
            } = (0, n.useBodyScrollable)("AlertDialog");
          (0, d.useEffect)((() => {
            i && u?.current && (u.current?.showModal?.(), g(!0))
          }), [i]);
          const b = () => {
            g(!1), o(), u.current?.close?.()
          };
          if (i) return (0, f.jsxs)("dialog", {
            ref: u,
            className: h.dialog,
            onClick: e => (e => {
              if (!e.currentTarget) return;
              const s = e.currentTarget.getBoundingClientRect();
              (s.left > e.clientX || s.right < e.clientX || s.top > e.clientY || s.bottom < e.clientY) && c && (g(!1), o(), e.currentTarget.close())
            })(e),
            "data-testid": "alert-dialog",
            children: [s && (0, f.jsx)("i", {
              className: [h.icon, h[s]].join(" ")
            }), (0, f.jsxs)("div", {
              className: [h.content, l?.content].join(" "),
              children: [(0, f.jsx)("h3", {
                className: [h.heading, l?.heading].join(" "),
                children: t
              }), a && (0, f.jsx)("div", {
                className: [h.message, l?.message].join(" "),
                dangerouslySetInnerHTML: {
                  __html: a
                }
              })]
            }), r && (0, f.jsx)("div", {
              className: h.actions,
              children: r.slice(0, 2).map(((e, s) => (0, f.jsx)(p, {
                style: 0 === s ? "primary" : "secondary",
                button: e,
                closeDialog: b
              }, e.buttonText)))
            })]
          })
        },
        y = (0, a.defineMessages)({
          ns_cta_title: {
            id: "ns_cta_title",
            defaultMessage: "Subscribe to the Rockstar Games Email List"
          },
          ns_cta_text: {
            id: "ns_cta_text",
            defaultMessage: "Sign up for our email newsletter to get info on game announcements and updates, details on special events and offers, and more from Rockstar Games and our affiliates."
          },
          ns_cta_button_text: {
            id: "ns_cta_button_text",
            defaultMessage: "Subscribe Now"
          },
          ns_successfully_subscribed_title: {
            id: "ns_successfully_subscribed_title",
            defaultMessage: "Successfully Subscribed"
          },
          ns_successfully_subscribed_details: {
            id: "ns_successfully_subscribed_details",
            defaultMessage: "You are now signed up to the Rockstar Games Email List and will receive regular updates to the email address you’ve signed up with. Manage your email preferences at any time on your account settings page."
          },
          ns_error_preferences_title: {
            id: "ns_error_preferences_title",
            defaultMessage: "Error"
          },
          ns_error_preferences_details: {
            id: "ns_error_preferences_details",
            defaultMessage: "We cannot sign up your email address to our newsletter at this time. Change your email preferences on your account settings page or try again later."
          },
          ns_error_generic_title: {
            id: "ns_error_generic_title",
            defaultMessage: "Error"
          },
          ns_error_generic_details: {
            id: "ns_error_generic_details",
            defaultMessage: "We cannot sign up this email address to our newsletter at this time."
          },
          ns_already_subbed_title: {
            id: "ns_already_subbed_title",
            defaultMessage: "Already Subscribed"
          },
          ns_already_subbed_details: {
            id: "ns_already_subbed_details",
            defaultMessage: "You are already receiving newsletter updates at this email address. Change your email preferences at any time on your account settings page."
          },
          ns_check_email_title: {
            id: "ns_check_email_title",
            defaultMessage: "Check Your Email"
          },
          ns_check_email_details: {
            id: "ns_check_email_details",
            defaultMessage: "To confirm your subscription to the Rockstar Games Email List, please verify your email address via the link sent to the email address you’ve signed up with."
          },
          ns_confirm_title: {
            id: "ns_confirm_title",
            defaultMessage: "Confirm your subscription"
          },
          ns_confirm_details: {
            id: "ns_confirm_details",
            defaultMessage: "Please confirm that you would like to subscribe to the Rockstar Games Newsletter by clicking the button below."
          },
          ns_confirm_after_register_title: {
            id: "ns_confirm_after_register_title",
            defaultMessage: "Confirm your subscription"
          },
          ns_confirm_after_register_details: {
            id: "ns_confirm_after_register_details",
            defaultMessage: "You did not opt-in to receive marketing emails during account creation. Would you still like to subscribe to our newsletter?"
          },
          ns_ok_button_text: {
            id: "ns_ok_button_text",
            defaultMessage: "OK"
          },
          ns_manage_prefs_button_text: {
            id: "ns_manage_prefs_button_text",
            defaultMessage: "Manage Preferences"
          },
          ns_yes_subscribe_text: {
            id: "ns_yes_subscribe_text",
            defaultMessage: "Yes, Subscribe"
          },
          ns_go_back_text: {
            id: "ns_go_back_text",
            defaultMessage: "No, Go Back"
          }
        });
      var w = t(75694),
        E = t.n(w);
      const S = {
          pillBtn: "rockstargames-sites-rockstargamesbcc802c8f4e672f115f1074115c966e4",
          selected: "rockstargames-sites-rockstargamesfccc728f8062fedd21dda9ff20af4447",
          fadeIn: "rockstargames-sites-rockstargamesd4657bdad910613ab1c913eac69cc03a",
          subBtn: "rockstargames-sites-rockstargamesf104f56f4843c43778f052c93c802d86",
          "fade-in": "rockstargames-sites-rockstargamesf96d40bc7df11b0cd20585fb7b275d60",
          primaryBtn: "rockstargames-sites-rockstargamesb75064849f284f36aba19ccce2247d8c",
          newsletterSubscription: "rockstargames-sites-rockstargamesc06351d3974c9778756737586bbe2117",
          banner: "rockstargames-sites-rockstargamesa031b97fa036ddae4bbadc6680558a2f",
          heading: "rockstargames-sites-rockstargamesce3bcff18b4587d306e54fc607d1c872",
          copy: "rockstargames-sites-rockstargamesfd7cac31d4bc18c4c27f90dfbb6f7f49",
          newsletterSubBtn: "rockstargames-sites-rockstargamesadc12d67d45b9063df86155a13d7674f",
          inner: "rockstargames-sites-rockstargamesd5512a5e255d98ac193b89292a6f908e",
          body: "rockstargames-sites-rockstargamesb47d60d510ae51d65a0f6fb1eb459c89",
          isLoading: "rockstargames-sites-rockstargamesa365a6b8f3c57e3ff39bdfe300b076f4",
          buttonLoader: "rockstargames-sites-rockstargamesf302edb669d15d02ca82b40e4abacebb"
        },
        v = e => {
          let {
            loading: s,
            loggedIn: t,
            urls: n,
            handleSubscribeButton: i,
            isButtonLoading: o,
            showDialog: l,
            setShowDialog: b,
            dialog: k,
            isSubscribed: p
          } = e;
          const [h, w] = (0, d.useState)(!1), v = (0, a.useIntl)(), {
            track: R
          } = (0, r.useGtmTrack)(), {
            ref: C,
            inView: M
          } = (0, u.useInView)({
            threshold: .6
          }), I = k?.buttons || [{
            buttonText: v.formatMessage(y.ns_ok_button_text),
            onClick: () => {
              b(!1)
            },
            extraClasses: S.alertBtnClass,
            ctaClasses: S.ctaText,
            testId: "ok-btn"
          }, {
            buttonText: k?.showManagePreferences ? v.formatMessage(y.ns_manage_prefs_button_text) : "",
            isLink: !0,
            link: n.preferences,
            extraClasses: S.alertLinkClass,
            testId: "preferences-btn"
          }];
          return (0, d.useEffect)((() => {
            M && !h && (R({
              event: "page_section_impression",
              section_layout: t ? "signed in" : "signed out",
              element_placement: "newsletter subscribe"
            }), w(!0))
          }), [M]), (0, f.jsxs)(f.Fragment, {
            children: [!p && (0, f.jsx)("div", {
              className: E()(S.newsletterSubscription),
              "data-testid": "news-sub-banner",
              ref: C,
              children: (0, f.jsx)("section", {
                className: S.banner,
                children: (0, f.jsx)("div", {
                  className: S.inner,
                  children: s ? (0, f.jsx)(_.A, {}) : (0, f.jsxs)(f.Fragment, {
                    children: [(0, f.jsx)(m, {
                      disableLink: !0,
                      className: S.fadeIn
                    }), (0, f.jsxs)("div", {
                      className: S.body,
                      children: [(0, f.jsx)(g.Heading, {
                        level: 4,
                        className: [S.heading, S.fadeIn].join(" "),
                        children: (0, f.jsx)(a.FormattedMessage, {
                          ...y.ns_cta_title
                        })
                      }), (0, f.jsx)(g.Paragraph, {
                        className: [S.copy, S.fadeIn].join(" "),
                        children: (0, f.jsx)(a.FormattedMessage, {
                          ...y.ns_cta_text
                        })
                      })]
                    }), t ? (0, f.jsxs)(g.Button, {
                      size: "MD",
                      appearance: "secondary",
                      allCaps: !0,
                      onPress: i,
                      className: S.newsletterSubBtn,
                      isDisabled: o,
                      "data-testid": "sub-btn",
                      children: [(0, f.jsx)(a.FormattedMessage, {
                        ...y.ns_cta_button_text
                      }), o && (0, f.jsx)("div", {
                        className: S.buttonLoader,
                        children: (0, f.jsx)(_.A, {})
                      })]
                    }) : n?.auth && (0, f.jsx)(c.Link, {
                      className: E()(S.btnPrimary, S.newsletterSubBtn),
                      to: n.auth,
                      "data-testid": "sub-link",
                      onClick: () => {
                        R({
                          event: "cta_subscribe_news",
                          section_layout: "signed out",
                          element_placement: "newsletter subscribe",
                          text: "subscribe now",
                          link_url: n.auth
                        })
                      },
                      children: (0, f.jsx)(a.FormattedMessage, {
                        ...y.ns_cta_button_text
                      })
                    })]
                  })
                })
              })
            }), k && (0, f.jsx)(x, {
              icon: k.icon,
              title: v.formatMessage(k.heading),
              secondaryText: v.formatMessage(k.bodyText),
              closeOnOutsideClick: k.closeOnOutsideClick,
              buttons: [{
                ...I[0]
              }, {
                ...I[1]
              }],
              showDialog: l,
              onClose: () => b(!1),
              extraClasses: {
                dialog: S.dialog,
                title: S.title,
                content: S.content
              }
            })]
          })
        };
      Math.pow(10, 8);
      const R = Symbol.for("constructDateFrom");

      function C(e, s) {
        return "function" == typeof e ? e(s) : e && "object" == typeof e && R in e ? e[R](s) : e instanceof Date ? new e.constructor(s) : new Date(s)
      }

      function M(e, s, t) {
        const [a, r] = function(e) {
          for (var s = arguments.length, t = new Array(s > 1 ? s - 1 : 0), a = 1; a < s; a++) t[a - 1] = arguments[a];
          const r = C.bind(null, e || t.find((e => "object" == typeof e)));
          return t.map(r)
        }(t?.in, e, s), n = (+a - +r) / 36e5;
        return (i = t?.roundingMethod, e => {
          const s = (i ? Math[i] : Math.trunc)(e);
          return 0 === s ? 0 : s
        })(n);
        var i
      }
      const I = {
          SUCCESS: {
            icon: "check",
            heading: y.ns_successfully_subscribed_title,
            bodyText: y.ns_successfully_subscribed_details,
            showManagePreferences: !0
          },
          CHECK_EMAIL: {
            icon: "mail",
            heading: y.ns_check_email_title,
            bodyText: y.ns_check_email_details
          },
          ERROR_PREFERENCES: {
            icon: "error",
            heading: y.ns_error_preferences_title,
            bodyText: y.ns_error_preferences_details,
            showManagePreferences: !0
          },
          ERROR_GENERIC: {
            icon: "error",
            heading: y.ns_error_generic_title,
            bodyText: y.ns_error_generic_details
          },
          ALREADY_SUBSCRIBED: {
            icon: "check",
            heading: y.ns_already_subbed_title,
            bodyText: y.ns_already_subbed_details,
            showManagePreferences: !0
          },
          NEW_ACCOUNT: {
            icon: "mail",
            heading: y.ns_confirm_after_register_title,
            bodyText: y.ns_confirm_after_register_details,
            showManagePreferences: !0
          },
          CONFIRM: {
            icon: "mail",
            heading: y.ns_confirm_title,
            bodyText: y.ns_confirm_details,
            showManagePreferences: !1
          }
        },
        N = {
          0: I.ERROR_PREFERENCES,
          1: I.SUCCESS,
          2: I.ERROR_PREFERENCES,
          3: I.ERROR_PREFERENCES,
          4: I.ERROR_GENERIC
        },
        D = (0, n.setMakeVarItem)({
          key: "subscriptionStatusReactive",
          value: (0, n.makeVar)(void 0)
        }),
        j = e => D(e),
        B = (e, s, t) => {
          const [i, o] = (0, d.useState)(), [c, l] = (0, d.useState)(!1), [u, g] = (0, d.useState)(!1), [b, f] = (0, d.useState)(!1), [m, _] = (0, d.useState)(!1), k = (0, n.useReactiveVar)(D), p = (0, a.useIntl)(), {
            track: h
          } = (0, r.useGtmTrack)(), x = {
            preferences: `https://${e.sc}.rockstargames.com/settings/email`,
            auth: `${e.login}?returnUrl=${window.location.pathname}%3Fmarketing%3Dtrue&lang=${e.lang}&newsletter=true`
          }, w = e => {
            o(e), g(!0)
          }, E = {
            ...I.NEW_ACCOUNT,
            closeOnOutsideClick: !1,
            buttons: [{
              buttonText: p.formatMessage(y.ns_yes_subscribe_text),
              onClick: () => {
                S()
              }
            }, {
              buttonText: p.formatMessage(y.ns_go_back_text),
              onClick: () => {
                o(null), g(!1)
              }
            }]
          }, S = async () => (h({
            event: "cta_subscribe_news",
            section_layout: s.loggedIn ? "signed in" : "signed out",
            element_placement: "newsletter subscribe",
            text: "subscribe now"
          }), s.loggedIn || (window.location.href = x.auth), s.loggedIn && s.isAMinor ? (w(I.ERROR_GENERIC), _(!1), void h({
            event: "alert_error",
            text: "error message with no preferences link",
            element_placement: "newsletter subscribe"
          })) : s.loggedIn && !k || s.loggedIn && 3 == k ? void await R() : s.loggedIn && k ? (h({
            event: "alert_update",
            text: "alert - user already subscribed",
            element_placement: "newsletter subscribe"
          }), w(I.ALREADY_SUBSCRIBED), void _(!1)) : void 0), v = async () => {
            if (-1 === k) return;
            j(-1), f(!0);
            const {
              error: a = null,
              result: r
            } = await (0, n.coreScApiFetch)("marketing/status", {
              pingBearer: s.pingBearer
            });
            if (a) j(0);
            else {
              const a = r.status;
              j(a), s.isFromAuth && (a => {
                if (e.navigate(".", {
                    replace: !0
                  }), !s.loggedIn) return;
                const r = (() => {
                  if (!t) return !1;
                  const e = new Date(t["scAuth.MemberSince"]);
                  return M(new Date, e) < 12
                })();
                switch (a) {
                  case 1:
                    r ? (h({
                      event: "subscribe_news_success",
                      element_placement: "newsletter subscribe"
                    }), h({
                      event: "alert_update",
                      text: "new user subscribed during account creation",
                      element_placement: "newsletter subscribe"
                    }), w(I.SUCCESS)) : (h({
                      event: "alert_update",
                      text: "alert - user already subscribed",
                      element_placement: "newsletter subscribe"
                    }), w(I.ALREADY_SUBSCRIBED));
                    break;
                  case 4:
                    h({
                      event: "alert_error",
                      text: "error message with no preferences link",
                      element_placement: "newsletter subscribe"
                    }), w(I.ERROR_GENERIC);
                    break;
                  default:
                    r ? (w(E), h({
                      event: "alert_update",
                      text: "newly registered user - would you still like to subscribe?",
                      element_placement: "newsletter subscribe"
                    })) : R()
                }
              })(a), f(!1)
            }
          }, R = async () => {
            const {
              error: e = null,
              result: t
            } = await (0, n.coreScApiFetch)("marketing/update", {
              fetchOptions: {
                method: "POST"
              },
              pingBearer: s.pingBearer,
              query: {
                subscribe: !0
              }
            });
            if (e) j(0), w(I.ERROR_GENERIC), h({
              event: "alert_error",
              text: "error message with preferences link",
              element_placement: "newsletter subscribe"
            });
            else {
              const e = t.status;
              j(e), w(N[e]), 1 === e ? (h({
                event: "subscribe_news_success",
                element_placement: "newsletter subscribe"
              }), h({
                event: "alert_update",
                text: "user subscribed successfully",
                element_placement: "newsletter subscribe"
              })) : h({
                event: "alert_error",
                text: "error message with preferences link",
                element_placement: "newsletter subscribe"
              })
            }
          };
          return (0, d.useEffect)((() => {
            l(1 === k)
          }), [k]), (0, d.useEffect)((() => {
            (async () => {
              await (async () => {
                s.loggedIn ? await v() : !1 === s.loggedIn && f(!1)
              })()
            })()
          }), [s.loggedIn]), {
            dialog: i,
            handleSubscribeButton: S,
            isButtonLoading: m,
            isLoading: b,
            isSubscribed: c,
            setShowDialog: g,
            showDialog: u,
            subscriptionStatus: k,
            urls: x,
            setDialog: o
          }
        },
        A = (0, a.withIntl)((() => {
          const e = (0, n.useRockstarToken)(),
            s = e && "string" == typeof e ? function(e, s) {
              if ("string" != typeof e) throw new o("Invalid token specified: must be a string");
              s || (s = {});
              const t = !0 === s.header ? 0 : 1,
                a = e.split(".")[t];
              if ("string" != typeof a) throw new o(`Invalid token specified: missing part #${t+1}`);
              let r;
              try {
                r = function(e) {
                  let s = e.replace(/-/g, "+").replace(/_/g, "/");
                  switch (s.length % 4) {
                    case 0:
                      break;
                    case 2:
                      s += "==";
                      break;
                    case 3:
                      s += "=";
                      break;
                    default:
                      throw new Error("base64 string is not of the correct length")
                  }
                  try {
                    return function(e) {
                      return decodeURIComponent(atob(e).replace(/(.)/g, ((e, s) => {
                        let t = s.charCodeAt(0).toString(16).toUpperCase();
                        return t.length < 2 && (t = "0" + t), "%" + t
                      })))
                    }(s)
                  } catch (e) {
                    return atob(s)
                  }
                }(a)
              } catch (e) {
                throw new o(`Invalid token specified: invalid base64 for part #${t+1} (${e.message})`)
              }
              try {
                return JSON.parse(r)
              } catch (e) {
                throw new o(`Invalid token specified: invalid json for part #${t+1} (${e.message})`)
              }
            }(e) : null,
            t = (0, n.useRockstarTokenPing)(),
            l = (0, i.A)(),
            [{
              iso: d
            }] = (0, a.getLocale)(),
            u = (0, n.toScLocaleString)(d),
            g = (0, n.useReactiveVar)(r.scConfig),
            [b] = (0, c.useSearchParams)(),
            m = (0, c.useNavigate)(),
            _ = (0, c.useLocation)(),
            {
              loggedIn: k,
              data: p,
              loading: h
            } = (0, r.useRockstarUser)(),
            x = "true" === b.get("marketing"),
            y = {
              lang: u,
              location: _.pathname,
              login: g.login,
              navigate: m,
              sc: l.sites.socialClub
            },
            w = B(y, {
              isAMinor: p?.isAMinor,
              isFromAuth: x || !1,
              loggedIn: k,
              pingBearer: t,
              userLoading: h
            }, s),
            {
              dialog: E,
              setDialog: S,
              handleSubscribeButton: R,
              isButtonLoading: C,
              isLoading: M,
              isSubscribed: I,
              setShowDialog: N,
              showDialog: D,
              urls: j
            } = w;
          return (0, f.jsx)(f.Fragment, {
            children: (0, f.jsx)(v, {
              handleSubscribeButton: R,
              loggedIn: k || !1,
              loading: h || M,
              urls: j,
              isButtonLoading: C,
              setShowDialog: N,
              isSubscribed: I,
              showDialog: D,
              ...D && E && {
                dialog: E
              }
            })
          })
        }), l)
    },
    75694: (e, s) => {
      var t;
      ! function() {
        "use strict";
        var a = {}.hasOwnProperty;

        function r() {
          for (var e = "", s = 0; s < arguments.length; s++) {
            var t = arguments[s];
            t && (e = i(e, n(t)))
          }
          return e
        }

        function n(e) {
          if ("string" == typeof e || "number" == typeof e) return e;
          if ("object" != typeof e) return "";
          if (Array.isArray(e)) return r.apply(null, e);
          if (e.toString !== Object.prototype.toString && !e.toString.toString().includes("[native code]")) return e.toString();
          var s = "";
          for (var t in e) a.call(e, t) && e[t] && (s = i(s, t));
          return s
        }

        function i(e, s) {
          return s ? e ? e + " " + s : e + s : e
        }
        e.exports ? (r.default = r, e.exports = r) : void 0 === (t = function() {
          return r
        }.apply(s, [])) || (e.exports = t)
      }()
    }
  }
]);